# Telegram Movie Bot

Цей бот дозволяє зберігати, переглядати, редагувати та видаляти ваші улюблені фільми прямо у Telegram. Також підтримується пошук фільмів через TMDb, додавання постерів, трейлерів, тегів, рецензій та багато іншого.

## Можливості

- Додавання фільмів вручну або через TMDb API
- Перегляд усіх фільмів, пошук за назвою, жанром, роком, рейтингом, тегом, описом
- Редагування будь-якого поля фільму (назва, рік, жанр, опис, постер, трейлер, тег, рецензія)
- Видалення фільмів
- Валідація введених даних
- Зручні клавіатури для швидкої навігації
- Підтримка команд `/start`, `/help`, `/cancel`
- Збереження даних у SQLite

## Встановлення

1. **Клонувати репозиторій:**
   ```
   git clone https://github.com/uznikturbo/Movie-bot.git
   cd Movie-bot
   ```

2. **Встановити залежності:**
   ```
   pip install -r requirements.txt
   ```

3. **Створити файл `config.py` та вказати свої ключі:**
   ```python
   TOKEN = "ВАШ_ТОКЕН_ВІД_BOTFATHER"
   API_KEY = "ВАШ_API_КЛЮЧ_ВІД_TMDB"
   DB_PATH = "films.db"
   MAX_GENRE_LEN = 50
   MAX_DESC_LEN = 500
   MAX_LEN = 200
   ```

4. **Запустити бота:**
   ```
   python bot.py
   ```

## Структура проекту

```
tgbot/
│
├── bot.py              # Точка входу, запуск бота
├── config.py           # Конфігурація токенів та налаштувань
├── db.py               # Робота з базою даних
├── handlers/           # Всі хендлери (add, edit, remove, inspect, common)
├── keyboards.py        # Клавіатури для меню
├── states.py           # FSM стани
├── utils.py            # Допоміжні функції
├── requirements.txt    # Залежності
└── tests/              # Тести
```

## Основні команди

- `/start` — запуск бота
- `/help` — список команд
- `/cancel` — скасування поточної дії

## Додавання фільму

1. Натисніть **Add film**
2. Оберіть спосіб додавання: вручну або через TMDb
3. Заповніть усі необхідні поля (назва, рейтинг, рік, жанр, опис, тег, рецензія, трейлер, постер)

## Пошук та перегляд

- **Inspect films** — меню перегляду та пошуку фільмів за різними критеріями
- **Edit film** — редагування будь-якого поля фільму
- **Remove film** — видалення фільму

## Тестування

Для запуску тестів використовуйте:
```
pytest
```

## Ліцензія

MIT

---
